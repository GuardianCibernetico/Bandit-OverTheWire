#!/usr/bin/expect

#Definicion de variables. 

set timeout 10
set servidor "bandit.labs.overthewire.org"
set puerto 2220
set usuario "bandit0"
set contrasena "bandit0"


#Iniciar la sesi칩n en el SSH

spawn ssh -p $puerto $usuario@$servidor

#Esperar el prompt de la contrasena
expect "password:"

#Enviar la contrasena
send "$contrasena\r"

#Esperar el prompt del shell
expect "$ "

#Comando para leer la contrase침a del archivo readme.
send "cat readme\r"

#Capturar la contrase침a 
expect -re "(.*)\r"
set siguiente_contrasena $expect_out(1,string)

#Cerrar la sesi칩n del SSH
send "exit\r"
expect eof
